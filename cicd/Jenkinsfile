pipeline {
		agent any
		stages {
				stage('Env Variables') {
						steps {
								
								sh 'printenv'
						}
				}
				stage('Build') {
					parallel {
                stage('Client') {
                     echo 'Building client...'
                }
                stage('Server') {
                     echo 'Building server...'
                }
            }
				}
				stage('Tagging') {
            steps {
							script {
                load("cicd/functions.groovy").tagBuild()
							}
            }
        }
				stage('Test') {
						steps {
								echo 'Testing...'
						}
				}
				stage('Deploy') {
						steps {
								echo 'Deploying....'
						}
				}
		}
}