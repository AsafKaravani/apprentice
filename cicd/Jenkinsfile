pipeline {
        agent any
        stages {
                stage('Env Variables') {
                        steps {
                                
                                sh 'printenv'
                        }
                }
                stage('Build') {
                    parallel {
                stage('Client') {
                     steps {
                                                echo 'Client...'
                                         } 
                }
                stage('Server') {
                     steps {
                                                echo 'Server...'
                                        }
                }
            }
                }
                stage('Tagging') {
            steps {
                            script {
                load("cicd/functions.groovy").tagBuild()
                            }
            }
        }
                stage('Test') {
                        steps {
                                echo 'Testing...'
                        }
                }
                stage('Deploy') {
                        steps {
                                echo 'Deploying....'
                        }
                }
        }
}