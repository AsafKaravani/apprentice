@Library('./functions.groovy')

pipeline {
		agent any
		stages {
				stage('Env Variables') {
						steps {
								sh 'printenv'
						}
				}
				stage('Build') {
						steps {
								echo 'Building...'
						}
				}
				stage('Tagging') {
            steps {
                def tagAndPush = load './tagAndPushBuild.groovy'
								tagAndPush()
            }
        }
				stage('Test') {
						steps {
								echo 'Testing...'
						}
				}
				stage('Deploy') {
						steps {
								echo 'Deploying....'
						}
				}
		}
}